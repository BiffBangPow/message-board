{% extends "_base.html.twig" %}

{% block title %}Index{% endblock %}
{% block content %}
<h1>{{ block('title') }}</h1>

<a href="/threads/new"> Create a new Post </a>

{% for thread in threads %}

  <div>
      <h3>{{ thread.title }}</h3>
      <i>Posted {{ thread.postedAt.format('F j Y g:i a') }} by {{  thread.getUser.username }} </i>
      <p>{{ thread.excerpt }}...</p>
      <p>{{ thread.getComments.count() }} Comments</p>
      <a href="/thread/{{ thread.id }}"> See details </a>
    </div>
{% endfor %}

  <div>
    {{ include('includes/pagination.html.twig',{
      currentFilters: threads,
      currentPage: currentPage,
      lastPage: totalPages,
      showAlwaysFirstAndLast: false
    }) }}
  </div>

{% endblock %}
